(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[944],{2085:(e,t,r)=>{"use strict";r.d(t,{F:()=>l});var s=r(2596);let a=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,n=s.$,l=(e,t)=>r=>{var s;if((null==t?void 0:t.variants)==null)return n(e,null==r?void 0:r.class,null==r?void 0:r.className);let{variants:l,defaultVariants:i}=t,o=Object.keys(l).map(e=>{let t=null==r?void 0:r[e],s=null==i?void 0:i[e];if(null===t)return null;let n=a(t)||a(s);return l[e][n]}),u=r&&Object.entries(r).reduce((e,t)=>{let[r,s]=t;return void 0===s||(e[r]=s),e},{});return n(e,o,null==t||null==(s=t.compoundVariants)?void 0:s.reduce((e,t)=>{let{class:r,className:s,...a}=t;return Object.entries(a).every(e=>{let[t,r]=e;return Array.isArray(r)?r.includes({...i,...u}[t]):({...i,...u})[t]===r})?[...e,r,s]:e},[]),null==r?void 0:r.class,null==r?void 0:r.className)}},2712:(e,t,r)=>{"use strict";r.d(t,{N:()=>a});var s=r(2115),a=globalThis?.document?s.useLayoutEffect:()=>{}},3540:(e,t,r)=>{"use strict";r.d(t,{sG:()=>d,hO:()=>f});var s=r(2115),a=r(7650),n=r(6101),l=r(5155),i=s.forwardRef((e,t)=>{let{children:r,...a}=e,n=s.Children.toArray(r),i=n.find(c);if(i){let e=i.props.children,r=n.map(t=>t!==i?t:s.Children.count(e)>1?s.Children.only(null):s.isValidElement(e)?e.props.children:null);return(0,l.jsx)(o,{...a,ref:t,children:s.isValidElement(e)?s.cloneElement(e,void 0,r):null})}return(0,l.jsx)(o,{...a,ref:t,children:r})});i.displayName="Slot";var o=s.forwardRef((e,t)=>{let{children:r,...a}=e;if(s.isValidElement(r)){let e=function(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(r=(t=Object.getOwnPropertyDescriptor(e,"ref")?.get)&&"isReactWarning"in t&&t.isReactWarning)?e.props.ref:e.props.ref||e.ref}(r),l=function(e,t){let r={...t};for(let s in t){let a=e[s],n=t[s];/^on[A-Z]/.test(s)?a&&n?r[s]=(...e)=>{n(...e),a(...e)}:a&&(r[s]=a):"style"===s?r[s]={...a,...n}:"className"===s&&(r[s]=[a,n].filter(Boolean).join(" "))}return{...e,...r}}(a,r.props);return r.type!==s.Fragment&&(l.ref=t?(0,n.t)(t,e):e),s.cloneElement(r,l)}return s.Children.count(r)>1?s.Children.only(null):null});o.displayName="SlotClone";var u=({children:e})=>(0,l.jsx)(l.Fragment,{children:e});function c(e){return s.isValidElement(e)&&e.type===u}var d=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((e,t)=>{let r=s.forwardRef((e,r)=>{let{asChild:s,...a}=e,n=s?i:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,l.jsx)(n,{...a,ref:r})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function f(e,t){e&&a.flushSync(()=>e.dispatchEvent(t))}},5074:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(157).A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},5695:(e,t,r)=>{"use strict";var s=r(8999);r.o(s,"usePathname")&&r.d(t,{usePathname:function(){return s.usePathname}}),r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}}),r.o(s,"useSearchParams")&&r.d(t,{useSearchParams:function(){return s.useSearchParams}})},5987:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>U});var s=r(5155),a=r(2115),n=r(6081),l=r(9033),i=r(2712),o=r(3540),u="Avatar",[c,d]=(0,n.A)(u),[f,m]=c(u),p=a.forwardRef((e,t)=>{let{__scopeAvatar:r,...n}=e,[l,i]=a.useState("idle");return(0,s.jsx)(f,{scope:r,imageLoadingStatus:l,onImageLoadingStatusChange:i,children:(0,s.jsx)(o.sG.span,{...n,ref:t})})});p.displayName=u;var h="AvatarImage",x=a.forwardRef((e,t)=>{let{__scopeAvatar:r,src:n,onLoadingStatusChange:u=()=>{},...c}=e,d=m(h,r),f=function(e,t){let[r,s]=a.useState("idle");return(0,i.N)(()=>{if(!e)return void s("error");let r=!0,a=new window.Image,n=e=>()=>{r&&s(e)};return s("loading"),a.onload=n("loaded"),a.onerror=n("error"),a.src=e,t&&(a.referrerPolicy=t),()=>{r=!1}},[e,t]),r}(n,c.referrerPolicy),p=(0,l.c)(e=>{u(e),d.onImageLoadingStatusChange(e)});return(0,i.N)(()=>{"idle"!==f&&p(f)},[f,p]),"loaded"===f?(0,s.jsx)(o.sG.img,{...c,ref:t,src:n}):null});x.displayName=h;var y="AvatarFallback",v=a.forwardRef((e,t)=>{let{__scopeAvatar:r,delayMs:n,...l}=e,i=m(y,r),[u,c]=a.useState(void 0===n);return a.useEffect(()=>{if(void 0!==n){let e=window.setTimeout(()=>c(!0),n);return()=>window.clearTimeout(e)}},[n]),u&&"loaded"!==i.imageLoadingStatus?(0,s.jsx)(o.sG.span,{...l,ref:t}):null});v.displayName=y;var g=r(9434);let b=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(p,{ref:t,className:(0,g.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",r),...a})});b.displayName=p.displayName,a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(x,{ref:t,className:(0,g.cn)("aspect-square h-full w-full",r),...a})}).displayName=x.displayName;let j=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(v,{ref:t,className:(0,g.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",r),...a})});j.displayName=v.displayName;var N=r(3004),w=r(6104),A=r(5695),S=r(172);function k(){var e;let[t,r]=(0,a.useState)(null),[n,l]=(0,a.useState)(!0),i=(0,A.useRouter)();return((0,a.useEffect)(()=>{let e=(0,N.hg)(w.j,e=>{l(!1),e?r(e):i.push("/login")});return()=>e()},[i]),n)?(0,s.jsx)("div",{className:"flex h-14 items-center justify-center p-4",children:(0,s.jsx)(S.A,{className:"h-6 w-6 animate-spin text-primary"})}):t?(0,s.jsx)(b,{className:"h-9 w-9",children:(0,s.jsx)(j,{children:(e=t.email)?e.split("@")[0].substring(0,2).toUpperCase():"U"})}):null}var E=r(6874),T=r.n(E),R=r(157);let O=(0,R.A)("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);var _=r(8294),C=r(5074);let I=(0,R.A)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);var M=r(7481),P=r(5317);function D(){let e=(0,A.usePathname)(),t=(0,A.useRouter)(),{toast:r}=(0,M.dj)(),[n,l]=(0,a.useState)([]);(0,a.useEffect)(()=>{let e=(0,N.hg)(w.j,async e=>{if(e){let t=await (0,P.x7)((0,P.H9)(w.db,"users",e.uid));t.exists()&&("admin"===t.data().role||"superadmin"===t.data().role)?l([{href:"/dashboard/admin",label:"لوحة التحكم",icon:O},{href:"/dashboard/profile",label:"ملفي",icon:_.A}]):l([{href:"/dashboard/matches",label:"بحث",icon:C.A},{href:"/dashboard/profile",label:"ملفي",icon:_.A}])}else l([{href:"/dashboard/matches",label:"بحث",icon:C.A},{href:"/dashboard/profile",label:"ملفي",icon:_.A}])});return()=>e()},[]);let i=async()=>{try{await (0,N.CI)(w.j),r({title:"تم تسجيل الخروج"}),t.push("/login")}catch(e){r({variant:"destructive",title:"خطأ",description:"حدث خطأ أثناء تسجيل الخروج."})}};return(0,s.jsx)("div",{className:"fixed bottom-0 left-0 z-50 w-full h-16 bg-background border-t",children:(0,s.jsxs)("div",{className:"grid h-full max-w-lg grid-cols-3 mx-auto font-medium",children:[n.map(t=>{let r=e.startsWith(t.href);return(0,s.jsxs)(T(),{href:t.href,className:"inline-flex flex-col items-center justify-center px-5 group ".concat(r?"text-primary":"text-muted-foreground"," hover:bg-muted"),children:[(0,s.jsx)(t.icon,{className:"w-5 h-5 mb-1"}),(0,s.jsx)("span",{className:"text-xs",children:t.label})]},t.href)}),(0,s.jsxs)("button",{onClick:i,type:"button",className:"inline-flex flex-col items-center justify-center px-5 hover:bg-muted text-muted-foreground group",children:[(0,s.jsx)(I,{className:"w-5 h-5 mb-1"}),(0,s.jsx)("span",{className:"text-xs",children:"خروج"})]})]})})}function V(e){return(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...e,children:[(0,s.jsx)("path",{d:"M8 3L4 7l4 4"}),(0,s.jsx)("path",{d:"M4 7h16"}),(0,s.jsx)("path",{d:"M16 21l4-4-4-4"}),(0,s.jsx)("path",{d:"M20 17H4"})]})}let L=(0,r(2085).F)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),$=a.forwardRef((e,t)=>{let{className:r,variant:a,...n}=e;return(0,s.jsx)("div",{ref:t,role:"alert",className:(0,g.cn)(L({variant:a}),r),...n})});$.displayName="Alert";let G=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("h5",{ref:t,className:(0,g.cn)("mb-1 font-medium leading-none tracking-tight",r),...a})});G.displayName="AlertTitle";let q=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,g.cn)("text-sm [&_p]:leading-relaxed",r),...a})});q.displayName="AlertDescription";let F=(0,R.A)("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);function U(e){let{children:t}=e;return(0,s.jsxs)("div",{className:"flex flex-col min-h-screen",children:[(0,s.jsxs)("header",{className:"sticky top-0 z-10 flex h-16 items-center justify-between border-b bg-background px-4 sm:px-6",children:[(0,s.jsxs)(T(),{href:"/dashboard",className:"flex items-center gap-2 text-lg font-semibold",children:[(0,s.jsx)(V,{className:"w-7 h-7 text-primary"}),(0,s.jsx)("h1",{className:"font-semibold font-headline",children:"المنصة"})]}),(0,s.jsx)(k,{})]}),(0,s.jsxs)("main",{className:"flex-1 p-4 md:p-6",children:[(0,s.jsxs)($,{variant:"destructive",className:"mb-4 bg-[#ffe6e6] text-[#b30000]",children:[(0,s.jsx)(F,{className:"h-4 w-4"}),(0,s.jsx)(G,{children:"تنبيه هام"}),(0,s.jsx)(q,{children:"هذه المنصة مبادرة حرة من المدرس إلى المدرس، وليست تابعة لوزارة التربية."})]}),(0,s.jsx)("div",{className:"container mx-auto max-w-4xl",children:t})]}),(0,s.jsx)(D,{})]})}},6081:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var s=r(2115),a=r(5155);function n(e,t=[]){let r=[],l=()=>{let t=r.map(e=>s.createContext(e));return function(r){let a=r?.[e]||t;return s.useMemo(()=>({[`__scope${e}`]:{...r,[e]:a}}),[r,a])}};return l.scopeName=e,[function(t,n){let l=s.createContext(n),i=r.length;r=[...r,n];let o=t=>{let{scope:r,children:n,...o}=t,u=r?.[e]?.[i]||l,c=s.useMemo(()=>o,Object.values(o));return(0,a.jsx)(u.Provider,{value:c,children:n})};return o.displayName=t+"Provider",[o,function(r,a){let o=a?.[e]?.[i]||l,u=s.useContext(o);if(u)return u;if(void 0!==n)return n;throw Error(`\`${r}\` must be used within \`${t}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let r=()=>{let r=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let a=r.reduce((t,{useScope:r,scopeName:s})=>{let a=r(e)[`__scope${s}`];return{...t,...a}},{});return s.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return r.scopeName=t.scopeName,r}(l,...t)]}},6101:(e,t,r)=>{"use strict";r.d(t,{s:()=>l,t:()=>n});var s=r(2115);function a(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function n(...e){return t=>{let r=!1,s=e.map(e=>{let s=a(e,t);return r||"function"!=typeof s||(r=!0),s});if(r)return()=>{for(let t=0;t<s.length;t++){let r=s[t];"function"==typeof r?r():a(e[t],null)}}}}function l(...e){return s.useCallback(n(...e),e)}},6104:(e,t,r)=>{"use strict";r.d(t,{db:()=>o,j:()=>i});var s=r(3915),a=r(3004),n=r(5317);let l=(0,s.Dk)().length?(0,s.Sx)():(0,s.Wp)({apiKey:"AIzaSyBfFQRJAHQpMTgzYJbxX7CGNu3oYEUCu-I",authDomain:"projone-b4772.firebaseapp.com",projectId:"projone-b4772",storageBucket:"projone-b4772.appspot.com",messagingSenderId:"199309991269",appId:"1:199309991269:web:020670ef93f4c5923e558c",measurementId:"G-VXQV2LMCXG"}),i=(0,a.xI)(l),o=(0,n.aU)(l)},7481:(e,t,r)=>{"use strict";r.d(t,{dj:()=>f});var s=r(2115);let a=0,n=new Map,l=e=>{if(n.has(e))return;let t=setTimeout(()=>{n.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);n.set(e,t)},i=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:r}=t;return r?l(r):e.toasts.forEach(e=>{l(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===r||void 0===r?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},o=[],u={toasts:[]};function c(e){u=i(u,e),o.forEach(e=>{e(u)})}function d(e){let{...t}=e,r=(a=(a+1)%Number.MAX_SAFE_INTEGER).toString(),s=()=>c({type:"DISMISS_TOAST",toastId:r});return c({type:"ADD_TOAST",toast:{...t,id:r,open:!0,onOpenChange:e=>{e||s()}}}),{id:r,dismiss:s,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:r}})}}function f(){let[e,t]=s.useState(u);return s.useEffect(()=>(o.push(t),()=>{let e=o.indexOf(t);e>-1&&o.splice(e,1)}),[e]),{...e,toast:d,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},8294:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(157).A)("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]])},9003:(e,t,r)=>{Promise.resolve().then(r.bind(r,5987))},9033:(e,t,r)=>{"use strict";r.d(t,{c:()=>a});var s=r(2115);function a(e){let t=s.useRef(e);return s.useEffect(()=>{t.current=e}),s.useMemo(()=>(...e)=>t.current?.(...e),[])}},9434:(e,t,r)=>{"use strict";r.d(t,{cn:()=>n});var s=r(2596),a=r(9688);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.QP)((0,s.$)(t))}}},e=>{var t=t=>e(e.s=t);e.O(0,[992,644,769,611,874,441,684,358],()=>t(9003)),_N_E=e.O()}]);